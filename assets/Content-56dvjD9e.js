import{r as v,b as P,o,c as i,a as _,w as y,d as s,f as h,u as $,e as f,t as l,_ as k,g as b,h as C,i as x,j as w,k as d,F as B,l as D,m as I}from"./index-Njscw5jx.js";const L={class:"content__list-item"},R={alt:"",class:"content__list-img"},z={class:"content__list-name"},F={__name:"ContentItem",props:["item","type"],setup(t){return(e,a)=>{const n=v("RouterLink"),r=P("lazy");return o(),i("div",L,[_(n,{to:t.type+`/${t.item.id}`},{default:y(()=>[f(s("img",R,null,512),[[r,$(h)+t.item.poster_path]]),s("h3",z,l(t.item.title||t.item.name),1)]),_:1},8,["to"])])}}},M={class:"content__pagination pagination"},N=["disabled"],V=["disabled"],j={__name:"Pagination",props:["currentPage","totalPage"],setup(t){return(e,a)=>(o(),i("div",M,[s("button",{onClick:a[0]||(a[0]=n=>e.$emit("page",t.currentPage-1)),disabled:t.currentPage==1},"prev",8,N),s("span",null,"Страница "+l(t.currentPage)+" из "+l(t.totalPage),1),s("button",{onClick:a[1]||(a[1]=n=>e.$emit("page",t.currentPage+1)),disabled:t.currentPage==t.totalPage},"next",8,V)]))}},q=k(j,[["__scopeId","data-v-392ce454"]]),E={class:"content"},S={class:"container"},T={class:"content__title"},A={class:"content__list"},J={__name:"Content",props:["type"],setup(t){const e=t,a=b(),n=C();x(()=>n.getPopular({type:e.type,page:1}));const r=w(()=>e.type=="movie"?n.popularMovies:n.popularTvs),c=d(1),p=d(500),m=async u=>{c.value=u,await n.getPopular({type:e.type,page:c.value}),a.push({name:e.type,query:{page:c.value}})};return console.log(a),(u,G)=>(o(),i("section",E,[s("div",S,[s("h2",T,l(e.type=="movie"?"Все фильмы":"Все сериалы"),1),s("div",A,[(o(!0),i(B,null,D(r.value,g=>(o(),I(F,{key:g.id,item:g,type:t.type},null,8,["item","type"]))),128))]),_(q,{currentPage:c.value,totalPage:p.value,onPage:m},null,8,["currentPage","totalPage"])])]))}};export{J as _};
